function debounceAtv(e,t,a){var n;return function(){var r=this,l=arguments;clearTimeout(n),n=setTimeout(function(){n=null,a||e.apply(r,l)},t),a&&!n&&e.apply(r,l)}}function atvImg(){function e(e,t){t.firstChild.className+=" over"}function t(e,t,a,n,r){var l=t.firstChild;setTimeout(function(){l.className=l.className.replace(" over",""),l.style.transform="",r.style.cssText="";for(var e=0;e<n;e++)a[e].style.transform=""},50)}var a=document,n=(a.documentElement,a.getElementsByTagName("body")[0]),r=window,l=a.querySelectorAll(".atvImg"),o=l.length,i="ontouchstart"in r||navigator.msMaxTouchPoints;if(!(o<=0)){for(var s=0;s<o;s++){var c=l[s],d=c.querySelectorAll(".atvImg-layer"),v=d.length;if(!(v<=0)){for(;c.firstChild;)c.removeChild(c.firstChild);var m=a.createElement("div"),f=a.createElement("div"),u=a.createElement("div"),h=a.createElement("div"),p=[];c.id="atvImg__"+s,m.className="atvImg-container",f.className="atvImg-shine",u.className="atvImg-shadow",h.className="atvImg-layers";for(var g=0;g<v;g++){var y=a.createElement("div"),C=d[g].getAttribute("data-img");y.className="atvImg-rendered-layer",y.setAttribute("data-layer",g),y.style.backgroundImage="url("+C+")",h.appendChild(y),p.push(y)}m.appendChild(u),m.appendChild(h),m.appendChild(f),c.appendChild(m);var E=c.clientWidth||c.offsetWidth||c.scrollWidth;c.style.transform="perspective("+3*E+"px)",i?(r.preventScroll=!1,function(a,n,l,o){c.addEventListener("touchmove",function(e){r.preventScroll&&e.preventDefault(),processMovement(e,!0,a,n,l,o)}),c.addEventListener("touchstart",function(t){r.preventScroll=!0,e(t,a)}),c.addEventListener("touchend",function(e){r.preventScroll=!1,t(e,a,n,l,o)})}(c,p,v,f)):function(a,n,r,l){c.addEventListener("mousemove",function(e){processMovement(e,!1,a,n,r,l)}),c.addEventListener("mouseenter",function(t){e(t,a)}),c.addEventListener("mouseleave",function(e){t(e,a,n,r,l)})}(c,p,v,f)}}processMovement=debounceAtv(function(e,t,a,r,l){var o=$(window).scrollTop(),i=n.scrollLeft,s=t?e.touches[0].pageX:e.pageX,c=t?e.touches[0].pageY:e.pageY,d=a.getBoundingClientRect(),v=a.clientWidth||a.offsetWidth||a.scrollWidth,m=a.clientHeight||a.offsetHeight||a.scrollHeight,f=320/v,u=.52-(s-d.left-i)/v,h=.52-(c-d.top-o)/m,p=c-d.top-o-m/2,g=s-d.left-i-v/2,y=.07*f*(u-g),C=.1*f*(p-h);imgCSS="rotateX("+C+"deg) rotateY("+y+"deg)",arad=Math.atan2(p,g),angle=180*arad/Math.PI-90,angle<0&&(angle+=360),-1!=a.firstChild.className.indexOf(" over")&&(imgCSS+=" scale3d(1.07,1.07,1.07)"),a.firstChild.style.transform=imgCSS;for(var E=l,S=0;S<l;S++)r[S].style.transform="translateX("+u*E*(2.5*S/f)+"px) translateY("+h*l*(2.5*S/f)+"px)",E--},5)}}